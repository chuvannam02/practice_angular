<form [formGroup]="form" (ngSubmit)="submit()">

    <!-- TÊN -->
    <div class="form-group">
        <label>Tên:</label>
        <input formControlName="name" placeholder="Tên" [class.error]="isFieldInvalid('name')"/>

        <!-- Block hiển thị lỗi -->
        <div class="error-msg" *ngIf="isFieldInvalid('name')">
            <small *ngIf="form.get('name')?.hasError('required')">Tên là bắt buộc</small>
            <small *ngIf="form.get('name')?.hasError('minlength')">Tên phải có ít nhất 3 ký tự</small>
        </div>
    </div>

    <!-- EMAIL -->
    <div class="form-group">
        <label>Email:</label>
        <input formControlName="email" placeholder="Email" [class.error]="isFieldInvalid('email')"/>

        <div class="error-msg" *ngIf="isFieldInvalid('email')">
            <small *ngIf="form.get('email')?.hasError('required')">Email là bắt buộc</small>
            <small *ngIf="form.get('email')?.hasError('email')">Email không đúng định dạng</small>
        </div>
    </div>

    <!-- TUỔI -->
    <div class="form-group">
        <label>Tuổi:</label>
        <input type="number" formControlName="age" placeholder="Tuổi" [class.error]="isFieldInvalid('age')"/>

        <div class="error-msg" *ngIf="isFieldInvalid('age')">
            <small *ngIf="form.get('age')?.hasError('required')">Tuổi là bắt buộc</small>
            <small *ngIf="form.get('age')?.hasError('min')">Tuổi phải >= 18</small>
        </div>
    </div>

    <button type="submit">Gửi</button>

    <!-- Debug -->
    <pre>Valid: {{ form.valid }}</pre>
    <pre>Errors: {{ form.get('name')?.errors | json }}</pre>
    <!--    <button type="submit" [disabled]="form?.invalid">Gửi</button>-->
<!--    <button type="submit">Gửi</button>-->
<!--    <pre>{{ form?.value | json }}</pre>-->
</form>

<button nz-button nzDanger (click)="deleteUser(123)">
    Xóa User 123
</button>

<button nz-button nzType="primary" (click)="resetPassword(123)">
    Reset Password User 123
</button>
